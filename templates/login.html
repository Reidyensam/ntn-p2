{% extends 'base.html' %}
{% block title %} LOGIN {% endblock %}
{% block content %}
<section class="vh-100" style="background-color: #333;">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-lg-8 col-xl-6">
                <div class="card shadow-lg" style="border-radius: 15px;">
                    <div class="row g-0">
                        <!-- Botón Volver a la derecha -->
                        <div class="text-end">
                            <a href="/" class="btn btn-secondary" style="position: absolute; top: 15px; right: 15px;">
                                Volver
                            </a>
                        </div>
                        <div class="col-md-6 col-lg-5 d-none d-md-block">
                            <img src="https://media.gq.com.mx/photos/5f37292da67302885dbaa4be/16:9/w_2560%2Cc_limit/GettyImages-72577732ok.jpg"
                                 alt="login form" class="img-fluid"
                                 style="border-radius: 15px 0 0 15px; object-fit: cover; height: 100%; width: 100%;">
                        </div>
                        <div class="col-md-6 col-lg-7 d-flex align-items-center">
                            <div class="card-body p-5 text-black">
                                <!-- Cambié el formulario para incluir action y method -->
                                <form action="{{ url_for('login') }}" method="POST">
                                    <div class="text-center mb-4">
                                        <h3 class="fw-bold" style="color: #f9c74f;">Iniciar Sesión</h3>
                                        <p class="text-muted">Por favor, introduce tus datos</p>
                                    </div>

                                    <!-- Agregué name="email" al input -->
                                    <div class="form-outline mb-4">
                                        <label class="form-label" for="email" style="color: #333;">Correo electrónico</label>
                                        <input type="email" id="email" name="email" class="form-control form-control-lg" placeholder="Correo electrónico" required />
                                        <span id="emailError" class="text-danger" style="display: none;">Por favor, ingresa un correo válido.</span>
                                    </div>

                                    <!-- Agregué name="password" al input -->
                                    <div class="form-outline mb-4">
                                        <label class="form-label" for="password" style="color: #333;">Contraseña</label>
                                        <input type="password" id="password" name="password" class="form-control form-control-lg" placeholder="Contraseña" required minlength="8" />
                                        <span id="passwordError" class="text-danger" style="display: none;">La contraseña debe tener al menos 8 caracteres.</span>
                                    </div>

                                    <div class="d-flex justify-content-between align-items-center mb-4">
                                        <div>
                                            <a href="#" class="text-muted">¿Olvidaste tu contraseña?</a>
                                        </div>
                                    </div>

                                    <div class="text-center">
                                        <!-- El botón submit envía el formulario -->
                                        <button type="submit" class="btn btn-lg btn-block text-white" style="background-color: #f9c74f; border-radius: 10px;">Ingresar</button>
                                    </div>

                                    <div class="mt-3 text-center">
                                        <p class="text-muted">¿No tienes una cuenta? <a href="register" class="text-primary">Regístrate aquí</a></p>
                                    </div>

                                    <!-- Mensajes flash para mostrar errores o información -->
                                    {% with messages = get_flashed_messages(with_categories=true) %}
                                        {% if messages %}
                                            {% for category, message in messages %}
                                                <div class="alert alert-{{ category }}">{{ message }}</div>
                                            {% endfor %}
                                        {% endif %}
                                    {% endwith %}
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
